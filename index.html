<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BauApp Ãœbersicht</title>
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#ffffff" />
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

<style>
:root {
  --md-surface: #f7f7f7;
  --md-primary: #1565c0;
  --md-primary-container: #e3f2fd;
  --md-outline: #d0d0d0;
  --radius: 12px;
  --shadow: 0 2px 8px rgba(0,0,0,0.08);
}

body {
  margin: 0;
  font-family: 'Roboto', system-ui, sans-serif;
  background: var(--md-surface);
  color: #1e1e1e;
}

/* Header / AppBar */
.appbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  padding: 0.75rem 1rem;
  box-shadow: var(--shadow);
  position: sticky;
  top: 0;
  z-index: 10;
}
.appbar h1 {
  margin: 0;
  font-size: 1.15rem;
  font-weight: 500;
}
.icon-btn {
  background: none;
  border: none;
  color: #333;
  font-size: 1.4rem;
  cursor: pointer;
  padding: 0.25rem;
}

/* Main content */
main {
  padding: 1rem;
  max-width: 600px;
  margin: auto;
}

/* Section headline */
h2 {
  font-size: 1rem;
  color: #555;
  margin: 1rem 0 0.5rem;
}

/* Material textfield look */
.field {
  display: flex;
  flex-direction: column;
  background: white;
  border: 1px solid var(--md-outline);
  border-radius: var(--radius);
  padding: 0.6rem 0.8rem;
  margin-bottom: 0.8rem;
  box-shadow: var(--shadow);
}
.field input {
  border: none;
  outline: none;
  font-size: 1rem;
  background: transparent;
  width: 100%;
}
.field label {
  font-size: 0.8rem;
  color: #666;
  margin-bottom: 2px;
}

/* Floating action button */
.fab {
  position: fixed;
  right: 1.5rem;
  bottom: 1.5rem;
  background: var(--md-primary);
  color: white;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  border: none;
  box-shadow: var(--shadow);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.6rem;
  cursor: pointer;
}
.fab:active { transform: scale(0.96); }

/* Preview grid */
#imagePreview {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(90px,1fr));
  gap: 8px;
  margin-top: 1rem;
}
.preview {
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: cover;
  border-radius: 10px;
  box-shadow: var(--shadow);
}
</style>
</head>
<body>

<!-- App bar -->
<div class="appbar">
  <button class="icon-btn">â˜°</button>
  <h1>BauApp Ãœbersicht</h1>
  <div>
    <button class="icon-btn">â­³</button>
    <button class="icon-btn">â­±</button>
  </div>
</div>

<main>
  <h2>Eingabefelder aus Vorlage:</h2>
  <div class="field"><label>Projektname</label><input id="var-Projektname" type="text"></div>
  <div class="field"><label>Bauherr Firma</label><input id="var-Bauherr_Firma" type="text"></div>
  <div class="field"><label>Bauherr Adresse</label><input id="var-Bauherr_Adresse" type="text"></div>
  <div class="field"><label>Bauort</label><input id="var-Bauort" type="text"></div>
  <div class="field"><label>Baubeginn</label><input id="var-Baubeginn" type="text"></div>
  <div class="field"><label>AusfÃ¼hrende Firma</label><input id="var-Ausfuehrende_Firma" type="text"></div>
  <div class="field"><label>Datum / Uhrzeit</label><input id="var-Datum_Uhrzeit" type="text"></div>
  <div class="field"><label>WetterverhÃ¤ltnisse</label><input id="var-Wetter" type="text"></div>
  <div class="field"><label>Baufortschritt</label><input id="var-Baufortschritt" type="text"></div>

  <!-- Image preview grid -->
  <div id="imagePreview"></div>
</main>

<!-- Floating action button -->
<button class="fab" id="imagesInputBtn">ðŸ“·</button>
<input type="file" id="imagesInput" accept="image/*" multiple style="display:none" />

<script>
const imageInput = document.getElementById("imagesInput");
const fabBtn = document.getElementById("imagesInputBtn");
const preview = document.getElementById("imagePreview");
let images = [];

fabBtn.addEventListener("click", () => imageInput.click());

imageInput.addEventListener("change", async e => {
  const files = [...e.target.files];
  for (const file of files) {
    const base64 = await toBase64(file);
    const imgEl = document.createElement("img");
    imgEl.src = base64;
    imgEl.className = "preview";
    preview.appendChild(imgEl);
  }
  e.target.value = "";
});

function toBase64(file) {
  return new Promise((resolve,reject)=>{
    const r=new FileReader();
    r.onload=()=>resolve(r.result);
    r.onerror=reject;
    r.readAsDataURL(file);
  });
}
</script>
</body>
</html>
